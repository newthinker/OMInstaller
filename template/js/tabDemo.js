/**
 * @author Administrator
 * 
 * tabContainer api介绍
 * 
 */

//
// window.dom(dom)介绍
//		查看dom节点是否含有css 类         return boolean
// 		dom.hasClass(/*String ('a')*/classStr, /*node*/node) 
// 
//		dom节点移出css类
//		dom.removeClass(/*String ('a' or 'a b')*/classStrs, /*node*/node) 
//
//		dom节点添加css类
//		dom.addClass(/*String ('a' or 'a b')*/classStrs, /*node*/node) 
//
//		根据css类('.a')或者节点name('b')、父节点、dom标签获取dom节点      return Array
//		dom.getDom(/*String (name:'name' or class:'.class')*/param, /*node*/root, /*String ('div')*/tag) 
//
//		根据dom标签创建dom节点          return domNode
//		dom.createDom(/*String ('div')*/tag,/*Object*/ opts) 
//
// window.lang(lang)介绍
//		去除字符串前后空白     return String
//		lang.trim(/*String*/str) 
//
//		阻止事件冒泡
//		lang.stopPropagation(/*Event*/event) 
//
//		获取发生鼠标事件的dom节点     return domNode
//		lang.srcElement(/*Event*/event) 
//
// window.TabContainer(TabContainer) 介绍
//		tab控件对象
//		eg:
//		//根据dom来实例化tab控件，node为空的话默认为documen.body对象
//		var tabContainer = new TabContainer(/*domNode*/node); 
//		tabContainer.addTab({
//       	title: "title",   				//tab页标题
//        	content: "<p>tab内容</p>"		//tab页内容
//        	closable: false 				//tab页是否允许关闭
//   	});
//		注册添加tab事件
//		tabContainer.addTabBtn.onclick = function(){
//       	tabContainer.addTab({
//          	title: "title",   				
//        		content: "<p>tab内容</p>"		
//       		closable: false 				
//        	});
//    	};
//		获取当前选择tab
//		var selected=tabContainer.selectedTab;  
//		  
//		获取所有tab
//		var allTabs=tabContainer.getTabs();
//
//
//

var tabContainer;
window.onload = function(){
	var num = 1;
    tabContainer = new TabContainer(document.getElementById('tabdemo'));
    tabContainer.addTab({
        title: "Machine"+num,
        content: '<div class="om-layout"name="system-config"><div class="tabs-container"><form name="sysconfig"><div class="base-info"name="base"><fieldset><legend class="legend">                        服务器基本参数信息</legend><div class="select-controls"><div class="select-control"name="base-select-os"><label class="control-label">                                OS:</label><select class="select-value"name="base-os"><option>Windows</option><option>Linux</option></select></div><div class="select-control"name="base-select-arch"><label class="control-label">                                ARCH:</label><select class="select-value"name="base-arch"><option>i386</option><option>amd64</option></select></div><div class="select-control"name="base-select-container"><label class="control-label">                                WEB容器类型:</label><select class="select-value"name="base-container"><option>Tomcat</option><option>Weblogic</option></select></div></div><div class="input-controls"><div class="input-control"><label class="control-label"for="base-label-ip">                                IP:</label><input type="text"placeholder="服务器IP地址"class="input-value"name="base-ip"><p class="help-block"></p></div><div class="input-control"><label class="control-label"for="base-label-user">                                USER:</label><input type="text"placeholder="系统管理员帐户"class="input-value"name="base-user"><p class="help-block"></p></div><div class="input-control"><label class="control-label"for="base-label-pwd">                                PWD:</label><input type="text"placeholder="用户密码"class="input-value"name="base-pwd"><p class="help-block"></p></div><div class="input-control"><label class="control-label"for="base-label-omhome">                                OMHome:</label><input type="text"placeholder="OneMap安装目录"class="input-value"name="base-omhome"><p class="help-block"></p></div></div></fieldset></div><div class="config-info"name="config"><fieldset><legend>                        服务器配置</legend><div class="config-checks"name="config-check-servers"><fieldset><legend>                                请选择安装服务器类型</legend><div class="check-controls"><div class="check-control"><input type="checkbox"value="agent"checked="checked"class="check-value"name="config-check-agent"><label class="control-label"for="config-label-agent">                                        AGENT</label></div><div class="check-control"><input type="checkbox"value="db"class="check-value"name="config-check-db"><label class="control-label"for="config-label-db">                                        DB</label></div><div class="check-control"><input type="checkbox"value="gis"class="check-value"name="config-check-gis"><label class="control-label"for="config-label-gis">                                        GIS</label></div><div class="check-control"><input type="checkbox"value="main"class="check-value"name="config-check-main"><label class="control-label"for="config-label-main">                                        MAIN</label></div><div class="check-control"><input type="checkbox"value="msg"class="check-value"name="config-check-msg"><label class="control-label"for="config-label-msg">                                        MSG</label></div><div class="check-control"><input type="checkbox"value="token"class="check-value"name="config-check-token"><label class="control-label"for="config-label-token">                                        TOKEN</label></div><div class="check-control"><input type="checkbox"value="web"class="check-value"name="config-check-web"><label class="control-label"for="config-label-web">                                        WEB</label></div><div class="check-control"><input type="button"value="添加"onclick="configServer()"></div></div></fieldset></div><div class="config-servers"name="servers"><div class="config-server"><fieldset name="server-db"style="display:none"><div type="hidden"class="input-control"name="input-db-port"><label class="control-label"for="config-label">                                        数据库服务器PORT:</label><input placeholder="数据库服务器PORT端口"class="input-value"name="db-port"><p class="help-block"></p></div><div class="input-control"name="input-db-sid"><label class="control-label"for="config-label">                                        数据库服务器实例名:</label><input type="text"placeholder="数据库服务器实例名"class="input-value"name="db-sid"><p class="help-block"></p></div><div class="input-control"name="input-manager-user"><label class="control-label"for="config-label">                                        运维数据库用户名:</label><input type="text"placeholder="GeoShareManager数据库用户名"class="input-value"name="manager-user"><p class="help-block"></p></div><div class="input-control"name="input-manager-pwd"><label class="control-label"for="config-label">                                        运维数据库密码</label><input type="text"placeholder="GeoShareManager数据库密码"class="input-value"name="manager-pwd"encrypt="true"><p class="help-block"></p></div><div class="input-control"name="input-portal-user"><label class="control-label"for="config-label">                                        门户数据库用户名:</label><input type="text"placeholder="GeoSharePortal数据库用户名"class="input-value"name="portal-user"><p class="help-block"></p></div><div class="input-control"name="input-portal-pwd"><label class="control-label"for="config-label">                                        门户数据库密码</label><input type="text"placeholder="GeoSharePortal数据库密码"class="input-value"name="portal-pwd"encrypt="true"><p class="help-block"></p></div><div class="input-control"name="input-geocoding-user"><label class="control-label"for="config-label">                                        GeoCoding数据库用户名:</label><input type="text"placeholder="GeoCoding数据库用户名"class="input-value"name="geocoding-user"><p class="help-block"></p></div><div class="input-control"name="input-manager-pwd"><label class="control-label"for="config-label">                                        GeoSharePortal数据库密码</label><input type="text"placeholder="GeoCoding数据库密码"class="input-value"name="geocoding-pwd"encrypt="true"><p class="help-block"></p></div><div class="input-control"name="input-geoportal-user"><label class="control-label"for="config-label">                                        GeoPortal数据库用户名:</label><input type="text"placeholder="GeoPortal数据库用户名"class="input-value"name="geoportal-user"><p class="help-block"></p></div><div class="input-control"name="input-manager-pwd"><label class="control-label"for="config-label">                                        GeoPortal数据库密码</label><input type="text"placeholder="GeoPortal数据库密码"class="input-value"name="geoportal-pwd"encrypt="true"><p class="help-block"></p></div><div class="input-control"name="input-sub-user"><label class="control-label"for="config-label">                                        分平台数据库用户名:</label><input type="text"placeholder="分平台数据库用户名"class="input-value"name="sub-user"><p class="help-block"></p></div></fieldset></div><div class="config-server"><fieldset name="server-gis"style="display:none"><div class="input-control"name="input-gis-ags-user"><label class="control-label"for="config-label">                                        ArcGISServer服务器用户名:</label><input type="text"placeholder="ArcGISServer Manager登录用户名"class="input-value"name="gis-ags-user"><p class="help-block"></p></div><div class="input-control"name="input-gis-ags-pwd"><label class="control-label"for="config-label">                                        ArcGISServer服务器密码:</label><input type="text"placeholder="ArcGISServer Manager登录密码"class="input-value"name="gis-ags-pwd"encrypt="true"><p class="help-block"></p></div><div class="input-control"name="input-gis-sharekey"><label class="control-label"for="config-label">                                        sharekey:</label><input type="text"placeholder="sharekey"class="input-value"name="gis-sharekey"encrypt="true"><p class="help-block"></p></div><div class="input-control"name="input-ags-log-path"><label class="control-label"for="config-label">                                        ArcGISServer日志路径:</label><input type="text"placeholder="ArcGISServer日志本地存放路径"class="input-value"name="ags-log-path"><p class="help-block"></p></div><div class="input-control"name="input-gis-basemap-type"><label class="control-label"for="config-label">                                        底图服务类型:</label><input type="text"placeholder="底图服务类型"class="input-value"name="gis-basemap-type"><p class="help-block"></p></div><div class="input-control"name="input-gis-services-port"><label class="control-label"for="config-label">                                        RemoteRest系统网络端口:</label><input type="text"placeholder="RemoteRest系统的HTTP PORT"class="input-value"name="gis-services-port"><p class="help-block"></p></div><div class="input-control"name="input-gis-basemap-type"><label class="control-label"for="config-label">                                        底图服务类型:</label><input type="text"placeholder="底图服务类型"class="input-value"name="gis-basemap-type"><p class="help-block"></p></div></fieldset></div><div class="config-server"><fieldset name="server-main"style="display:none"><div class="input-control"name="input-main-upload-level"><label class="control-label"for="config-label">                                        运维文件上传目录深度:</label><input type="text"placeholder="运维文件上传目录深度"class="input-value"name="main-upload-level"><p class="help-block"></p></div><div class="input-control"name="input-main-upload-num"><label class="control-label"for="config-label">                                        运维文件上传最大值:</label><input type="text"placeholder="运维文件上传最大值"class="input-value"name="main-upload-num"><p class="help-block"></p></div><div class="input-control"name="input-sub-upload-num"><label class="control-label"for="config-label">                                        分平台文件上传最大值:</label><input type="text"placeholder="分平台文件上传最大值"class="input-value"name="sub-upload-num"><p class="help-block"></p></div><div class="select-control"name="select-sub-syn-code"><label class="control-label">                                        分平台同步模式:</label><select class="select-value"name="sub-syn-code"><option>主平台与分平台之间同步</option><option>主平台与主平台之间同步</option></select></div></fieldset></div><div class="config-server"><fieldset name="server-msg"style="display:none"><div class="input-control"name="input-jms-port"><label class="control-label"for="config-label">                                        JMS服务器PORT:</label><input type="text"placeholder="JMS消息服务器端口"class="input-value"name="jms-port"><p class="help-block"></p></div></fieldset></div><div class="config-server"><fieldset name="server-token"style="display:none"></fieldset></div><div class="config-server"><fieldset name="server-web"style="display:none"><div class="select-control"name="params-web-csw"><label class="control-label">                                        是否启用csw服务:</label><select class="select-value"name="web-csw"><option>禁用</option><option>开启</option></select></div></fieldset></div></div></fieldset></form></div></div></div>',
        closable: false
    });
    
    tabContainer.addTabBtn.onclick = function(){
		num++;
        tabContainer.addTab({
            title: "Machine"+num,
            content: '<div class="om-layout"name="system-config"><div class="tabs-container"><form name="sysconfig"><div class="base-info"name="base"><fieldset><legend class="legend">                        服务器基本参数信息</legend><div class="select-controls"><div class="select-control"name="base-select-os"><label class="control-label">                                OS:</label><select class="select-value"name="base-os"><option>Windows</option><option>Linux</option></select></div><div class="select-control"name="base-select-arch"><label class="control-label">                                ARCH:</label><select class="select-value"name="base-arch"><option>i386</option><option>amd64</option></select></div><div class="select-control"name="base-select-container"><label class="control-label">                                WEB容器类型:</label><select class="select-value"name="base-container"><option>Tomcat</option><option>Weblogic</option></select></div></div><div class="input-controls"><div class="input-control"><label class="control-label"for="base-label-ip">                                IP:</label><input type="text"placeholder="服务器IP地址"class="input-value"name="base-ip"><p class="help-block"></p></div><div class="input-control"><label class="control-label"for="base-label-user">                                USER:</label><input type="text"placeholder="系统管理员帐户"class="input-value"name="base-user"><p class="help-block"></p></div><div class="input-control"><label class="control-label"for="base-label-pwd">                                PWD:</label><input type="text"placeholder="用户密码"class="input-value"name="base-pwd"><p class="help-block"></p></div><div class="input-control"><label class="control-label"for="base-label-omhome">                                OMHome:</label><input type="text"placeholder="OneMap安装目录"class="input-value"name="base-omhome"><p class="help-block"></p></div></div></fieldset></div><div class="config-info"name="config"><fieldset><legend>                        服务器配置</legend><div class="config-checks"name="config-check-servers"><fieldset><legend>                                请选择安装服务器类型</legend><div class="check-controls"><div class="check-control"><input type="checkbox"value="agent"checked="checked"class="check-value"name="config-check-agent"><label class="control-label"for="config-label-agent">                                        AGENT</label></div><div class="check-control"><input type="checkbox"value="db"class="check-value"name="config-check-db"><label class="control-label"for="config-label-db">                                        DB</label></div><div class="check-control"><input type="checkbox"value="gis"class="check-value"name="config-check-gis"><label class="control-label"for="config-label-gis">                                        GIS</label></div><div class="check-control"><input type="checkbox"value="main"class="check-value"name="config-check-main"><label class="control-label"for="config-label-main">                                        MAIN</label></div><div class="check-control"><input type="checkbox"value="msg"class="check-value"name="config-check-msg"><label class="control-label"for="config-label-msg">                                        MSG</label></div><div class="check-control"><input type="checkbox"value="token"class="check-value"name="config-check-token"><label class="control-label"for="config-label-token">                                        TOKEN</label></div><div class="check-control"><input type="checkbox"value="web"class="check-value"name="config-check-web"><label class="control-label"for="config-label-web">                                        WEB</label></div><div class="check-control"><input type="button"value="添加"onclick="configServer()"></div></div></fieldset></div><div class="config-servers"name="servers"><div class="config-server"><fieldset name="server-db"style="display:none"><div type="hidden"class="input-control"name="input-db-port"><label class="control-label"for="config-label">                                        数据库服务器PORT:</label><input placeholder="数据库服务器PORT端口"class="input-value"name="db-port"><p class="help-block"></p></div><div class="input-control"name="input-db-sid"><label class="control-label"for="config-label">                                        数据库服务器实例名:</label><input type="text"placeholder="数据库服务器实例名"class="input-value"name="db-sid"><p class="help-block"></p></div><div class="input-control"name="input-manager-user"><label class="control-label"for="config-label">                                        运维数据库用户名:</label><input type="text"placeholder="GeoShareManager数据库用户名"class="input-value"name="manager-user"><p class="help-block"></p></div><div class="input-control"name="input-manager-pwd"><label class="control-label"for="config-label">                                        运维数据库密码</label><input type="text"placeholder="GeoShareManager数据库密码"class="input-value"name="manager-pwd"encrypt="true"><p class="help-block"></p></div><div class="input-control"name="input-portal-user"><label class="control-label"for="config-label">                                        门户数据库用户名:</label><input type="text"placeholder="GeoSharePortal数据库用户名"class="input-value"name="portal-user"><p class="help-block"></p></div><div class="input-control"name="input-portal-pwd"><label class="control-label"for="config-label">                                        门户数据库密码</label><input type="text"placeholder="GeoSharePortal数据库密码"class="input-value"name="portal-pwd"encrypt="true"><p class="help-block"></p></div><div class="input-control"name="input-geocoding-user"><label class="control-label"for="config-label">                                        GeoCoding数据库用户名:</label><input type="text"placeholder="GeoCoding数据库用户名"class="input-value"name="geocoding-user"><p class="help-block"></p></div><div class="input-control"name="input-manager-pwd"><label class="control-label"for="config-label">                                        GeoSharePortal数据库密码</label><input type="text"placeholder="GeoCoding数据库密码"class="input-value"name="geocoding-pwd"encrypt="true"><p class="help-block"></p></div><div class="input-control"name="input-geoportal-user"><label class="control-label"for="config-label">                                        GeoPortal数据库用户名:</label><input type="text"placeholder="GeoPortal数据库用户名"class="input-value"name="geoportal-user"><p class="help-block"></p></div><div class="input-control"name="input-manager-pwd"><label class="control-label"for="config-label">                                        GeoPortal数据库密码</label><input type="text"placeholder="GeoPortal数据库密码"class="input-value"name="geoportal-pwd"encrypt="true"><p class="help-block"></p></div><div class="input-control"name="input-sub-user"><label class="control-label"for="config-label">                                        分平台数据库用户名:</label><input type="text"placeholder="分平台数据库用户名"class="input-value"name="sub-user"><p class="help-block"></p></div></fieldset></div><div class="config-server"><fieldset name="server-gis"style="display:none"><div class="input-control"name="input-gis-ags-user"><label class="control-label"for="config-label">                                        ArcGISServer服务器用户名:</label><input type="text"placeholder="ArcGISServer Manager登录用户名"class="input-value"name="gis-ags-user"><p class="help-block"></p></div><div class="input-control"name="input-gis-ags-pwd"><label class="control-label"for="config-label">                                        ArcGISServer服务器密码:</label><input type="text"placeholder="ArcGISServer Manager登录密码"class="input-value"name="gis-ags-pwd"encrypt="true"><p class="help-block"></p></div><div class="input-control"name="input-gis-sharekey"><label class="control-label"for="config-label">                                        sharekey:</label><input type="text"placeholder="sharekey"class="input-value"name="gis-sharekey"encrypt="true"><p class="help-block"></p></div><div class="input-control"name="input-ags-log-path"><label class="control-label"for="config-label">                                        ArcGISServer日志路径:</label><input type="text"placeholder="ArcGISServer日志本地存放路径"class="input-value"name="ags-log-path"><p class="help-block"></p></div><div class="input-control"name="input-gis-basemap-type"><label class="control-label"for="config-label">                                        底图服务类型:</label><input type="text"placeholder="底图服务类型"class="input-value"name="gis-basemap-type"><p class="help-block"></p></div><div class="input-control"name="input-gis-services-port"><label class="control-label"for="config-label">                                        RemoteRest系统网络端口:</label><input type="text"placeholder="RemoteRest系统的HTTP PORT"class="input-value"name="gis-services-port"><p class="help-block"></p></div><div class="input-control"name="input-gis-basemap-type"><label class="control-label"for="config-label">                                        底图服务类型:</label><input type="text"placeholder="底图服务类型"class="input-value"name="gis-basemap-type"><p class="help-block"></p></div></fieldset></div><div class="config-server"><fieldset name="server-main"style="display:none"><div class="input-control"name="input-main-upload-level"><label class="control-label"for="config-label">                                        运维文件上传目录深度:</label><input type="text"placeholder="运维文件上传目录深度"class="input-value"name="main-upload-level"><p class="help-block"></p></div><div class="input-control"name="input-main-upload-num"><label class="control-label"for="config-label">                                        运维文件上传最大值:</label><input type="text"placeholder="运维文件上传最大值"class="input-value"name="main-upload-num"><p class="help-block"></p></div><div class="input-control"name="input-sub-upload-num"><label class="control-label"for="config-label">                                        分平台文件上传最大值:</label><input type="text"placeholder="分平台文件上传最大值"class="input-value"name="sub-upload-num"><p class="help-block"></p></div><div class="select-control"name="select-sub-syn-code"><label class="control-label">                                        分平台同步模式:</label><select class="select-value"name="sub-syn-code"><option>主平台与分平台之间同步</option><option>主平台与主平台之间同步</option></select></div></fieldset></div><div class="config-server"><fieldset name="server-msg"style="display:none"><div class="input-control"name="input-jms-port"><label class="control-label"for="config-label">                                        JMS服务器PORT:</label><input type="text"placeholder="JMS消息服务器端口"class="input-value"name="jms-port"><p class="help-block"></p></div></fieldset></div><div class="config-server"><fieldset name="server-token"style="display:none"></fieldset></div><div class="config-server"><fieldset name="server-web"style="display:none"><div class="select-control"name="params-web-csw"><label class="control-label">                                        是否启用csw服务:</label><select class="select-value"name="web-csw"><option>禁用</option><option>开启</option></select></div></fieldset></div></div></fieldset></form></div></div></div>',
            closable: true
        });
    }
}
